:root {
  --group-number: 0;
  --group-height: 400px;
  --prev-height: 0;
  --header-rate: 0.25s;
  --out-delay: 0.12s;
  --elevated-group-count: 1;
  --total-items: 1;
  --item-number: 1;
}

.open-menu.global-header,
.open-sub-menu.global-header {
  @apply h-screen overflow-y-auto overflow-x-hidden md:h-11 md:overflow-visible;
}

.menu {
  @apply absolute left-0 right-0 top-0 mx-auto flex h-auto flex-col px-5 pb-8 pt-14 sm:px-0 md:contents;
}

.menu-item {
  @apply relative z-40 flex h-10 items-center text-2xl md:text-xs;
}

.open-sub-menu .menu-item {
  @apply h-0;
}

.submenu {
  @apply absolute left-0 right-0 top-0 flex h-0 overflow-hidden bg-neutral-950 opacity-0;
}

.open-sub-menu .submenu.open {
  @apply bottom-0 left-0 right-0 top-0 z-[51] h-screen overflow-y-auto overflow-x-hidden opacity-100 md:z-30 md:h-[--menu-height] md:overflow-hidden;
}

.group-container {
  @apply container mx-auto flex flex-col gap-10 px-5 pt-20 md:flex-row md:px-0;
}

.items-group {
  @apply flex flex-col gap-3 last:pb-10 md:last:pb-0;
  @apply text-sm first:text-xl;
}

@screen md {
  .submenu {
    @apply opacity-0;
    transition-property: opacity, height;
    transition-duration: 0.32s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.6, 1),
      cubic-bezier(0.4, 0, 0.6, 1);
    transition-delay: 0.32s;
  }

  .open-sub-menu .submenu {
    @apply h-[--prev-height];
    transition: opacity 0.24s 0.24s, height 0.24s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.6, 1);
    @apply opacity-0;
  }

  .open-sub-menu .submenu.open {
    transition: opacity 0.24s, height 0.24s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.6, 1),
      cubic-bezier(0.4, 0, 0.6, 1);
    @apply h-[--menu-height] opacity-100;
  }

  .items-group {
    --group-delay: min(
      (var(--elevated-group-count) * 80ms) +
        ((var(--group-number) - var(--elevated-group-count)) * 50ms),
      var(--group-number) * 80ms
    );
  }

  .single-item {
    @apply -translate-y-1.5 opacity-0;
    transition-property: opacity, transform;
    transition-duration: 0.32s;
    transition-timing-function: cubic-bezier(0.4, 0, 0.6, 1),
      cubic-bezier(0.4, 0, 0.6, 1);
    transition-delay: calc(
      var(--group-delay) + var(--item-number) * 20ms + 50ms
    );
  }

  .open-sub-menu .single-item {
    @apply translate-y-0 opacity-100 transition-all duration-700;
  }
}
